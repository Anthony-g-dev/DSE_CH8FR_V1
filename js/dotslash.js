var dotslash={engine:{t:0,dt:.016,fps:60,oldTimeStamp:0},window:{appName:"DotSlash App",canvasContainer:"body",autoClear:!0,clearColor:"black",disableContextMenu:!0,showFps:!0,w:500,h:500,mx:0,my:0},mouse:{btnDown:{},onMove:function(t,s,o,e){},isDown:function(t){},pressed:function(t){}},keyboard:{codeToKey:{13:"entrer",32:"espace",33:"!",34:'"',35:"#",36:"$",37:"%",38:"&",39:"'",40:"(",41:")",42:"*",43:"+",44:",",45:"-",46:".",47:"/",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",58:":",59:";",60:"<",61:"=",62:">",63:"?",64:"@",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"[",92:"\\",93:"]",94:"^",95:"_",96:"`",97:"a",98:"b",99:"c",100:"d",101:"e",102:"f",103:"g",104:"h",105:"i",106:"j",107:"k",108:"l",109:"m",110:"n",111:"o",112:"p",113:"q",114:"r",115:"s",116:"t",117:"u",118:"v",119:"w",120:"x",121:"y",122:"z",123:"{",124:"|",125:"}",126:"~",163:"£",164:"¤",167:"§",168:"¨",176:"°",178:"²",181:"µ",224:"à",231:"ç",232:"è",233:"é",249:"ù",8364:"€"},isDown:function(t){},pressed:function(t){}},slr:{save:function(t,s){if("JSON"==t){let t=JSON.stringify(s.data),o=document.createElement("a"),e=new Blob([t],{type:"application/json"});o.href=URL.createObjectURL(e),o.download=s.fileName,o.click()}else if("LocalStorage"==t){let t=JSON.stringify(s.data);localStorage.setItem(s.key,t)}},load:function(t,s){if("JSON"==t)$.getJSON(s.fileName,function(t){return JSON.parse(t)});else if("LocalStorage"==t){let t=localStorage.getItem(s.key);return JSON.parse(t)}},remove:function(t,s){"LocalStorage"==t&&localStorage.removeItem(s.key)}},setWindow:function(t){$.each(t,function(t,s){null!=t&&null!=s&&(dotslash.window[t]=s)})}};dotslash.engine.init=function(){dotslash.config(),dotslash.canvas=$("<canvas/>",{id:"dotslashCanvas"}).prop({width:dotslash.window.w,height:dotslash.window.h}),$(dotslash.window.canvasContainer).append(dotslash.canvas),dotslash.ctx=$("#dotslashCanvas")[0].getContext("2d"),dotslash.graphics={setColor:function(t){dotslash.ctx.fillStyle=t,dotslash.ctx.strokeStyle=t},setLineWidth:function(t){dotslash.ctx.lineWidth=t},setFont:function(t){dotslash.ctx.font=t},line:function(t,s,o,e){dotslash.ctx.beginPath(),dotslash.ctx.moveTo(t,s),dotslash.ctx.lineTo(o,e),dotslash.ctx.closePath(),dotslash.ctx.stroke()},rectangle:function(t,s,o,e,a){"fill"==t?dotslash.ctx.fillRect(s,o,e,a):"stroke"==t&&dotslash.ctx.strokeRect(s,o,e,a)},circle:function(t,s,o,e){dotslash.ctx.beginPath(),dotslash.ctx.arc(s,o,e,0,2*Math.PI),"fill"==t?dotslash.ctx.fill():"stroke"==t&&(dotslash.ctx.closePath(),dotslash.ctx.stroke())},text:function(t,s,o,e,a){let n=dotslash.ctx.textAlign;null!=a&&(dotslash.ctx.textAlign=a),"fill"==t?dotslash.ctx.fillText(s,o,e):"stroke"==t&&dotslash.ctx.strokeText(s,o,e),dotslash.ctx.textAlign=n},newImage:function(t){var s=new Image;return s.src=t,s.onload=(()=>{dotslash.ctx.drawImage(s,0,0)}),s},draw:function(t,s,o,e,a,n,l,d,i,h){dotslash.ctx.save(),dotslash.ctx.translate(s,o),dotslash.ctx.rotate(Math.PI/180*n),dotslash.ctx.drawImage(t,l,d,i,h,-e/2,-a/2,e,a),dotslash.ctx.rotate(-Math.PI/180*n),dotslash.ctx.translate(-s,-o),dotslash.ctx.restore()}},$(dotslash.canvas).mousemove(function(t){let s=dotslash.canvas[0].getBoundingClientRect(),o=dotslash.window.mx,e=dotslash.window.my;dotslash.window.mx=Math.round(t.clientX-s.left),dotslash.window.my=Math.round(t.clientY-s.top),dotslash.mouse.onMove(o,e,dotslash.window.mx,dotslash.window.my)}),$(dotslash.canvas).mousedown(function(t){switch(t.which){case 1:dotslash.mouse.btnDown[1]=!0;break;case 2:dotslash.mouse.btnDown[2]=!0;break;case 3:dotslash.mouse.btnDown[3]=!0}}),$(dotslash.canvas).on("mouseup",function(t){switch(t.which){case 1:dotslash.mouse.btnDown[1]=!1,dotslash.mouse.pressed(1);break;case 2:dotslash.mouse.btnDown[2]=!1,dotslash.mouse.pressed(2);break;case 3:dotslash.mouse.btnDown[2]=!1,dotslash.mouse.pressed(3)}}),$("body").keydown(function(t){let s=t.keyCode||t.which;dotslash.keyboard.isDown(dotslash.keyboard.codeToKey[s])}),$("body").keypress(function(t){let s=t.keyCode||t.which;dotslash.keyboard.pressed(dotslash.keyboard.codeToKey[s])}),dotslash.init(),document.title=dotslash.window.appName,dotslash.window.disableContextMenu&&$("body").on("contextmenu",t=>t.preventDefault()),window.requestAnimationFrame(dotslash.engine.update)},dotslash.engine.update=function(t){dotslash.engine.dt=(t-dotslash.engine.t)/1e3,dotslash.engine.t=t,dotslash.engine.fps=Math.round(1/dotslash.engine.dt),dotslash.window.showFps&&(document.title="[FPS:"+dotslash.engine.fps+"] "+dotslash.window.appName),dotslash.window.autoClear&&(dotslash.graphics.setColor(dotslash.window.clearColor),dotslash.graphics.rectangle("fill",0,0,dotslash.canvas[0].width,dotslash.canvas[0].height),dotslash.graphics.setColor("white")),$.each(dotslash.mouse.btnDown,function(t,s){!0===s&&dotslash.mouse.isDown(t)}),dotslash.update(dotslash.engine.dt),dotslash.draw(),window.requestAnimationFrame(dotslash.engine.update)},$(function(){dotslash.engine.init()});